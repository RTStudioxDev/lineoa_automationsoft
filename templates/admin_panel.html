{% extends "base.html" %}
{% block content %}
<h2>Admin Panel - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏¢‡∏π‡∏™‡πÄ‡∏ã‡∏≠‡∏£‡πå</h2>
<a href="{{ url_for('admin_add_user') }}" class="btn btn-success">+ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏¢‡∏π‡∏™‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà</a>
<a href="{{ url_for('admin_topup_slips') }}" class="btn-admin-slip">üí∞ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏•‡∏¥‡∏õ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô</a>
<table>
    <tr>
        <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
        <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>
        <th>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</th>
        <th>‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
        <th>IP ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
        <th>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</th>
    </tr>
    {% for user in users %}
    <tr>
        <td>{{ user.username }}</td>
        <td>{{ user.role }}</td>
        <td>{{ user.expire_date }}</td>
        <td>{{ user.credit if user and user.credit is not none else 0 }}</td>
        <td>{{ user.last_ip or '-' }}</td>
        <td>
            <a href="{{ url_for('admin_edit_user', username=user.username) }}" class="btn-edit">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</a>
            <form action="{{ url_for('admin_delete_user', username=user.username) }}" method="post" style="display:inline;">
                <button type="submit" class="btn-delete" onclick="return confirm('‡∏•‡∏ö‡∏¢‡∏π‡∏™‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ?')">‡∏•‡∏ö</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    
</table>
{% endblock %}
