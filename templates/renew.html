{% extends "base.html" %}
{% block content %}
<div class="dashboard-center">
    <div class="dashboard-card" style="max-width:420px;">
        <div style="font-size:2em; margin-bottom:8px;">
            <span style="vertical-align:middle;">üîÑ</span> ‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
        </div>
        <div style="margin-bottom:16px; font-size:1.09em;">
            <b>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</b>
            <span style="color:#009f1e;">{{ expire_date }}</span>
        </div>
        <div style="margin-bottom:8px;">
            <b>‡∏ß‡∏±‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:</b> {{ left_days }} ‡∏ß‡∏±‡∏ô<br>
            <b>‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:</b> <span style="color:#009f1e;">{{ credit }}</span> ‡∏ö‡∏≤‡∏ó
        </div>

        <form method="post" class="renew-form" id="renewForm" style="margin-bottom:24px;">
            <input type="hidden" name="package" id="renewPackage">
            <label style="font-weight:500;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏Ñ‡πÄ‡∏Å‡∏à‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏:</label>
            <div class="renew-packages" style="margin:20px 0; display:flex; gap:16px;">
                <!-- 30 ‡∏ß‡∏±‡∏ô -->
                <button type="button"
                        onclick="confirmRenew('30')"
                        class="renew-btn"
                        style="background:#e6f8ea;border:2px solid #19b167; border-radius:10px; padding:22px 24px; font-size:1.12em; font-weight:600; color:#067e30; flex:1; cursor:pointer;">
                    ‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏ <b>30 ‡∏ß‡∏±‡∏ô</b><br>
                    <span style="font-size:0.95em; color:#0d950e; font-weight:500;">(1,000 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï)</span>
                </button>
                <!-- 1 ‡∏õ‡∏µ -->
                <button type="button"
                        onclick="confirmRenew('365')"
                        class="renew-btn"
                        style="background:#f7f7f7;border:2px solid #e1be19; border-radius:10px; padding:22px 24px; font-size:1.12em; font-weight:600; color:#bd9709; flex:1; cursor:pointer;position:relative;">
                    ‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏ <b>1 ‡∏õ‡∏µ</b><br>
                    <span style="font-size:0.93em; color:#c82424; text-decoration: line-through;">‡∏õ‡∏Å‡∏ï‡∏¥ 12,000</span>
                    <span style="font-size:0.95em; color:#159805; font-weight:700; margin-left:8px;">‡∏•‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 10,000 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï</span>
                    <span style="position:absolute;top:1px;right:1px;background:#ffe23e;color:#b78905;padding:1px 5px;border-radius:8px;font-size:0.72em;font-weight:700;">‚≠êÔ∏è ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°</span>
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Modal Popup -->
<div id="confirmModal" style="display:none;position:fixed;z-index:1000;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.33);">
  <div style="max-width:330px;background:#fff;margin:40vh auto;padding:24px 20px 16px 20px;border-radius:16px;box-shadow:0 6px 40px #0002;">
    <div style="font-size:1.2em;font-weight:600;margin-bottom:12px;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏</div>
    <div id="modalDetail" style="margin-bottom:18px;"></div>
    <div style="display:flex;gap:16px;">
      <button type="button" class="btn" style="flex:1;background:#bbb;" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
      <button type="button" class="btn" style="flex:1;" onclick="submitRenew()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
    </div>
  </div>
</div>

<script>
function confirmRenew(pkg) {
  document.getElementById('renewPackage').value = pkg;
  let detail = '';
  if(pkg === '30') {
    detail = '‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏ 30 ‡∏ß‡∏±‡∏ô ‡πÉ‡∏ä‡πâ 1,000 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï';
  } else if(pkg === '365') {
    detail = '‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏ 1 ‡∏õ‡∏µ (365 ‡∏ß‡∏±‡∏ô) ‡πÉ‡∏ä‡πâ 10,000 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï<br><span style="color:#888;font-size:0.95em;">(‡∏õ‡∏Å‡∏ï‡∏¥ 12,000 ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï)</span>';
  }
  document.getElementById('modalDetail').innerHTML = detail;
  document.getElementById('confirmModal').style.display = 'block';
}
function closeModal() {
  document.getElementById('confirmModal').style.display = 'none';
}
function submitRenew() {
  document.getElementById('renewForm').submit();
}
</script>
{% endblock %}
